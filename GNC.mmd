graph TD
    subgraph Rocket Vehicle
        GNC[Guidance, Navigation & Control System <br> (Flight Computer + Software)];
        PROP[Propulsion System <br> (Engine, Propellant)];
        ACT[Actuators <br> (Fins Servos, TVC System)];
        SENS[Sensor Suite <br> (IMU, GNSS, Altimeter, Mag)];
        STRUCT[Structure & Aerodynamics];
        PWR[Power System];
        COMM[Communication System <br> (Telemetry/Telecommand)];
    end

    subgraph External Environment
        ENV[Atmosphere <br> (Wind, Density, Pressure)];
        GRAV[Gravity Field];
        TARGET[Target Location];
        LAUNCH[Launch Site Location];
        GND[Ground Station];
    end

    %% Inputs to GNC
    SENS -- Sensor Data --> GNC;
    GND -- Mission Plan / Target Data (Pre-Launch) --> GNC;
    GND -- Telecommands (Optional, In-Flight) --> COMM;
    COMM -- Telecommands --> GNC
    PWR -- Electrical Power --> GNC;

    %% Outputs from GNC
    GNC -- Actuator Commands --> ACT;
    GNC -- Engine Commands (e.g., Shutdown) --> PROP;
    GNC -- Status & Navigation Data --> COMM;
    COMM -- Telemetry Data --> GND;

    %% Physical Interactions / Influences
    PROP -- Thrust --> STRUCT;
    ACT -- Control Forces/Moments --> STRUCT;
    ENV -- Aerodynamic Forces/Moments, Pressure --> STRUCT;
    GRAV -- Gravitational Force --> STRUCT;
    STRUCT -- Motion/State --> SENS; %% How sensors perceive motion
    STRUCT -- Physical Constraints --> ACT; %% Limits movement
    STRUCT -- Physical Constraints --> PROP; %% Mounting
